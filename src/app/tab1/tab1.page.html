<ion-content>
  <div class="container">
    <!-- Jugador 1 -->
    <div class="player player1">
      <div class="header">
        <ion-icon name="ellipsis-vertical" class="options-icon" (click)="toggleColores(1)"></ion-icon>

        <!-- Icono de la calculadora o volver -->
        <ion-icon *ngIf="!mostrarCalculadoraJugador1" name="calculator" class="calculator-icon" (click)="toggleCalculadora(1)"></ion-icon>
        <ion-icon *ngIf="mostrarCalculadoraJugador1" name="return-up-back" class="calculator-icon" (click)="toggleCalculadora(1)"></ion-icon>
        
        <!-- Cambio de vida -->
        <div *ngIf="vidaCambioJugador1 !== 0 && !mostrarCalculadoraJugador1" class="vida-cambio">{{ vidaCambioJugador1 > 0 ? '+' : '' }}{{ vidaCambioJugador1 }}</div>
      </div>

      <!-- Contadores y otros elementos -->
      <div *ngIf="!mostrarColoresJugador1 && !mostrarCalculadoraJugador1" class="life-container">
        <ion-button (click)="disminuirVida(1)" slot="start">-</ion-button>
        <div class="flex-container">
          <!-- Contador de Vida -->
          <ion-label *ngIf="selectedCounterJugador1 === 'life'" class="life" [class.life-zero]="vidaJugador1 <= 0">{{ vidaJugador1 }}</ion-label>
          <!-- Contador de Veneno -->
          <ion-label *ngIf="selectedCounterJugador1 === 'poison'" class="life"[class.life-zero]="contadoresJugador1.poison == 10">{{ contadoresJugador1.poison }}</ion-label>
          <!-- Contador de Comandante -->
          <ion-label *ngIf="selectedCounterJugador1 === 'edh'" class="life"[class.life-zero]="contadoresJugador1.edh == 21">{{ contadoresJugador1.edh }}</ion-label>
          <!-- Contador de energía -->
          <ion-label *ngIf="selectedCounterJugador1 === 'energy'" class="life">{{ contadoresJugador1.energy }}</ion-label>
          <ion-icon *ngIf="selectedCounterJugador1 === 'life'" name="heart" class="heart-icon"></ion-icon>
          <img *ngIf="selectedCounterJugador1 === 'edh'" name="edh" class="edh-icon" src="../../assets/icon/edh.png" alt="EDH Icon">
          <img *ngIf="selectedCounterJugador1 === 'poison'" name="poison" class="edh-icon" src="../../assets/icon/poison.png" alt="poison Icon">
          <img *ngIf="selectedCounterJugador1 === 'energy'" name="energy" class="edh-icon" src="../../assets/icon/energi.png" alt="energy Icon">
        </div>
        <ion-button (click)="aumentarVida(1)" slot="end">+</ion-button>
      </div>

      <!-- Componente de la calculadora -->
      <app-calculadora *ngIf="mostrarCalculadoraJugador1" (someOutput)="handleSomeOutput($event)"></app-calculadora>

      <!-- Selector de colores -->
      <app-colores *ngIf="mostrarColoresJugador1 && !mostrarCalculadoraJugador1" (selectedColor)="changePlayerColor(1, $event)"></app-colores>

      <!-- Footer del Jugador 1 -->
      <app-player-footer *ngIf="!mostrarColoresJugador1 && !mostrarCalculadoraJugador1" [jugador]="1" (counterChanged)="handleCounterChange($event)"></app-player-footer>
    </div>

    <!-- Barra horizontal -->
    <div class="divider"></div>

    <!-- Jugador 2 -->
    <div class="player player2">
      <div class="header">
        <!-- Icono de opciones -->
        <ion-icon name="ellipsis-vertical" class="options-icon" (click)="toggleColores(2)"></ion-icon>
        
        <!-- Cambio de vida -->
        <div *ngIf="vidaCambioJugador2 !== 0" class="vida-cambio">{{ vidaCambioJugador2 > 0 ? '+' : '' }}{{ vidaCambioJugador2 }}</div>
        <ion-icon *ngIf="!mostrarCalculadoraJugador2" name="calculator" class="calculator-icon" (click)="toggleCalculadora(2)"></ion-icon>
        <ion-icon *ngIf="mostrarCalculadoraJugador2" name="return-up-back" class="calculator-icon" (click)="toggleCalculadora(2)"></ion-icon>
      </div>

      <!-- Contadores y otros elementos -->
      <div *ngIf="!mostrarColoresJugador2 && !mostrarCalculadoraJugador2" class="life-container">
        <ion-button (click)="disminuirVida(2)" slot="start">-</ion-button>
        <div class="flex-container">
          <!-- Contador de Vida -->
          <ion-label *ngIf="selectedCounter2 === 'life'" class="life" [class.life-zero]="vidaJugador2 <= 0">{{ vidaJugador2 }}</ion-label>
          <!-- Contador de Veneno -->
          <ion-label *ngIf="selectedCounter2 === 'poison'" class="life"[class.life-zero]="contadoresJugador2.poison == 10">{{ contadoresJugador2.poison }}</ion-label>
          <!-- Contador de Comandante -->
          <ion-label *ngIf="selectedCounter2 === 'edh'" class="life"[class.life-zero]="contadoresJugador2.edh == 21">{{ contadoresJugador2.edh }}</ion-label>
          <!-- Contador de energía -->
          <ion-label *ngIf="selectedCounter2 === 'energy'" class="life">{{ contadoresJugador2.energy }}</ion-label>
          <ion-icon *ngIf="selectedCounter2 === 'life'" name="heart" class="heart-icon"></ion-icon>
          <img *ngIf="selectedCounter2 === 'edh'" name="edh" class="edh-icon" src="../../assets/icon/edh.png" alt="EDH Icon">
          <img *ngIf="selectedCounter2 === 'poison'" name="poison" class="edh-icon" src="../../assets/icon/poison.png" alt="poison Icon">
          <img *ngIf="selectedCounter2 === 'energy'" name="energy" class="edh-icon" src="../../assets/icon/energi.png" alt="energy Icon">
        </div>
        <ion-button (click)="aumentarVida(2)" slot="end">+</ion-button>
      </div>

      <!-- Selector de colores del Jugador 2 -->
      <app-colores *ngIf="mostrarColoresJugador2 && !mostrarCalculadoraJugador2" (selectedColor)="changePlayerColor(2, $event)"></app-colores>
      <app-calculadora *ngIf="mostrarCalculadoraJugador2" (someOutput)="handleSomeOutput($event)"></app-calculadora>

      <!-- Footer del Jugador 2 -->
      <app-player-footer *ngIf="!mostrarColoresJugador2 && !mostrarCalculadoraJugador2" [jugador]="2" (counterChanged)="handleCounterChange($event)"></app-player-footer>
    </div>
  </div>
</ion-content>
